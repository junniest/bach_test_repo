\documentclass[12pt, a4paper]{report}
\usepackage{polyglossia}
\setdefaultlanguage{latvian}
\setotherlanguages{english, russian}
\usepackage{bacdarbs}
\usepackage{mathtools}
\usepackage{fixlatvian}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{listings}

\newcommand{\fixme}[1]{\vskip 5mm\noindent{\bf FIXME}: {\it #1}}

\usepackage[hmargin=2cm,vmargin=2cm,lmargin=3cm,rmargin=2cm]{geometry} 

\setlength{\parindent}{1cm}

\usepackage{setspace}
\onehalfspacing

\setmainfont{Times New Roman}

\setcounter{secnumdepth}{4} 

\renewcommand{\thesection}{\arabic{section}}

\newcommand{\kw}[2]{\par\noindent{\small{\em #1\/}: #2}}

\nosaukums{Ar regulārām izteiksmēm paplašinātu gramatiku dinamiska parsēšana.}
\darbatips{Bakalaura}
\autors{Jūlija Pečerska}
\vadvards{Guntis Arnicāns}
\vadinfo{LU docents}
\gads{2012}
\univer{Latvijas Universitāte}
\fakul{Datorikas}
\nod{Profesors}

\begin{document}

\titullapa

\begin{abstract}
Anotācijas teksts latviešu valodā

\kw{Atslēgvārdi}{Dinamiskās gramatikas, priekšprocesēšana, makro, regulārās izteiksmes, galīgi determinēti automāti, Python}
\end{abstract}

\begin{otherlanguage}{english}
\begin{abstract}
Abstract text in English

\kw{Keywords}{Dynamic grammars, preprocessing, macros, regular expressions, determinate finite automata, Python}
\end{abstract}
\end{otherlanguage}

\setcounter{tocdepth}{4}
\tableofcontents

\include{terms_notations}

%\include{introduction}

\section{Ievads}
Основная цель этой работы - показать, что возможно сделать грамматику динамически парсируемой, контролируя её модификации. Данная работа представляет теоретическую базу для системы, которая позволит на лету расширять синтаксис языка. Представленная система является надстройкой над парсером, следовательно для её использования нет необходимости вносить значительные изменения в его работу.

Система разрабатывается в составе группы студентов университетов разных стран. Автор данной работы участвовал в разработке идеи в целом, однако фокусом была разработка подсистемы, которая позволит находить появления совпадения с шаблонами в коде программы.

В основе предложенной системы лежит принцип динамических - самомодифицирующихся - грамматик. Проблема с динамическими грамматиками заключается в том, что они могут много всего и контролировать их очень сложно. Однако данная работа выдвигает некоторые ограничения для контроля корректности изменений, вносящихся в грамматику. Для этого будет использоваться система вывода типов, при помощи которой можно будет следить за тем, чтобы переписывалось нужное и в нужное.

Данная система не позволит добавлять и удалять правила грамматики на усмотрение программиста. Однако она даёт удобную возможность дополнять существующие конструкции новыми при помощи языка макросов. Это существенно упростит работу с языком, так как чтобы добавить удобные конструкции не  удет необходимости исправлять парсер языка.

Чтобы расширить возможности языка макросов, его система шаблонов будет расширена регулярными выражениями. Одна из особенностей описываемой системы заключается в том, что она работает не на тексте, а на токенах, за счёт чего и возможно устроить систему вывода типов. Далее список заматченных токенов из текста программы будет преобразовываться соответственно правилу трансформации, описанному в макросе.

В рамках данной работы будет описана модель предлагаемой системы. На данный момент система находится в стадии прототипирования, поэтому типовая система и система трансформаций будет только обозначена, а не рассмотрена полностью. Эта работа фокусируется на разработке эффективного прототипа для системы поиска совпадений в коде.

На момент написания работы есть готовый прототип системы поиска совпадений с шаблонами макросов. Основной принцип действия прототипа - создание одного детерминированного автомата для поиска совпадений по всем шаблонам по одному проходу по коду, по возможности за линейное время.

Далее организация работы будет следующей. Глава 2 рассказывает об актуальности проблемы, об общепринятом подходе к написанию парсеров языков и о возможностях динамических грамматик. Она также идентифицирует проблемы и сложности в использовании принципа самомодификации языка. Глава 3 рассказывает об основных принципах предлагаемой системы. Она даёт общий обзор языка модификаций и типовой системы, а также рассказывает о работе системы в рамках парсера языка. Глава 4 представляет прототип системы поиска совпадений с шаблонами, рассказывает об используемых алгоритмах и описывает причины выбора подходов. Там же описан подход к тестированию прототипа. В главе 5 описаны результаты данной работы, глава 6 представляет выводы.

\include{knowledge}

%\include{problem}

\include{system}

\include{prototype}

\section{Rezultāti}
\subsection{Prototipa īpašības}
 Prototips pagaidām netiek integrēts Eq valodas kompilātorā, bet tas tiek plānots tuvākajā nākotnē.

\fixme{Šeit droši vien jāapraksta vairāk par beigu prototipa versiju, par to, ko viņa varēs darīt.} Cik tā ir efektīva?

\section{Secinājumi}

Tālāk darbs tik turpināts (šeit var pārfrāzēt Conclusions no raksta melnraksta).

%This paper describes a theoretical background for constructing an extensible dynamic macroprocessor and provides a view on solving shortcomings that ex- isting preprocessors have. We present to the judjment of the reader a parser model that includes facilities necessary for the dynamic extension constructing and the syntax we propose for describing macros using regular expression ele- ments. We also give several examples to demonstrate the described extension’s capabilities, which can be applied to perform metaprogramming techniques as well as language syntax extension.

%We have prototyped the described system and plan to develop it further on to create an actual usable example of the described approach. There are, for sure, still plenty of issues to tackle and resolve, however, we expect the project to be helpful in wide areas of language design, compiler optimisations and macro languages.

%\include{random}

\bibliography{bachelors}{}
\bibliographystyle{plain}
\end{document}